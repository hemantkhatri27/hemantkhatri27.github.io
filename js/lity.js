/*! Lity - v2.2.2 - 2017-07-17
* http://sorgalla.com/lity/
* Copyright (c) 2015-2017 Jan Sorgalla; Licensed MIT */
!function(d,c){"function"==typeof define&&define.amd?define(["jquery"],function(a){return c(d,a)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=c(d,require("jquery")):d.lity=c(d,d.jQuery||d.Zepto)}("undefined"!=typeof window?window:this,function(aC,aB){function aA(d){var c=aa();return O&&d.length?(d.one(O,c.resolve),setTimeout(c.resolve,500)):c.resolve(),c.promise()}function az(b,f,e){if(1===arguments.length){return aB.extend({},b)}if("string"==typeof f){if(void 0===e){return void 0===b[f]?null:b[f]}b[f]=e}else{aB.extend(b,f)}return this}function ay(h){for(var g,l=decodeURI(h.split("#")[0]).split("&"),k={},j=0,i=l.length;j<i;j++){l[j]&&(g=l[j].split("="),k[g[0]]=g[1])}return k}function ax(b,d){return b+(b.indexOf("?")>-1?"&":"?")+aB.param(d)}function aw(e,d){var f=e.indexOf("#");return -1===f?d:(f>0&&(e=e.substr(f)),d+e)}function av(b){return aB('<span class="lity-error"/>').append(b)}function au(b,l){var k=l.opener()&&l.opener().data("lity-desc")||"Image with no description",j=aB('<img src="'+b+'" alt="'+k+'"/>'),i=aa(),h=function(){i.reject(av("Failed loading image"))};return j.on("load",function(){if(0===this.naturalWidth){return h()}i.resolve(j)}).on("error",h),i.promise()}function at(b,j){var i,h,g;try{i=aB(b)}catch(b){return !1}return !!i.length&&(h=aB('<i style="display:none !important"/>'),g=i.hasClass("lity-hide"),j.element().one("lity:remove",function(){h.before(i).remove(),g&&!i.closest(".lity-content").length&&i.addClass("lity-hide")}),i.removeClass("lity-hide").after(h))}function ar(b){var d=S.exec(b);return !!d&&an(aw(b,ax("https://www.youtube"+(d[2]||"")+".com/embed/"+d[4],aB.extend({autoplay:1},ay(d[5]||"")))))}function aq(b){var d=R.exec(b);return !!d&&an(aw(b,ax("https://player.vimeo.com/video/"+d[3],aB.extend({autoplay:1},ay(d[4]||"")))))}function ap(b){var d=P.exec(b);return !!d&&(0!==b.indexOf("http")&&(b="https:"+b),an(aw(b,ax("https://www.facebook.com/plugins/video.php?href="+b,aB.extend({autoplay:1},ay(d[4]||""))))))}function ao(d){var c=Q.exec(d);return !!c&&an(aw(d,ax("https://www.google."+c[3]+"/maps?"+c[6],{output:c[6].indexOf("layer=c")>0?"svembed":"embed"})))}function an(b){return'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen src="'+b+'"/></div>'}function am(){return ac.documentElement.clientHeight?ac.documentElement.clientHeight:Math.round(ab.height())}function al(d){var c=ag();c&&(27===d.keyCode&&c.options("esc")&&c.close(),9===d.keyCode&&ak(d,c))}function ak(f,e){var h=e.element().find(V),g=h.index(ac.activeElement);f.shiftKey&&g<=0?(h.get(h.length-1).focus(),f.preventDefault()):f.shiftKey||g!==h.length-1||(h.get(0).focus(),f.preventDefault())}function aj(){aB.each(Y,function(d,c){c.resize()})}function ai(b){1===Y.unshift(b)&&(Z.addClass("lity-active"),ab.on({resize:aj,keydown:al})),aB("body > *").not(b.element()).addClass("lity-hidden").each(function(){var c=aB(this);void 0===c.data(W)&&c.data(W,c.attr(X)||null)}).attr(X,"true")}function ah(b){var d;b.element().attr(X,"true"),1===Y.length&&(Z.removeClass("lity-active"),ab.off({resize:aj,keydown:al})),Y=aB.grep(Y,function(a){return b!==a}),d=Y.length?Y[0].element():aB(".lity-hidden"),d.removeClass("lity-hidden").each(function(){var e=aB(this),f=e.data(W);f?e.attr(X,f):e.removeAttr(X),e.removeData(W)})}function ag(){return 0===Y.length?null:Y[0]}function af(b,n,m,l){var k,j="inline",i=aB.extend({},m);return l&&i[l]?(k=i[l](b,n),j=l):(aB.each(["inline","iframe"],function(d,c){delete i[c],i[c]=m[c]}),aB.each(i,function(a,c){return !c||(!(!c.test||c.test(b,n))||(k=c(b,n),!1!==k?(j=a,!1):void 0))})),{handler:j,content:k||""}}function ae(v,u,t,s){function r(e){o=aB(e).css("max-height",am()+"px"),p.find(".lity-loader").each(function(){var f=aB(this);aA(f).always(function(){f.remove()})}),p.removeClass("lity-loading").find(".lity-content").empty().append(o),c=!0,o.trigger("lity:ready",[d])}var q,p,o,d=this,c=!1,b=!1;u=aB.extend({},U,u),p=aB(u.template),d.element=function(){return p},d.opener=function(){return t},d.options=aB.proxy(az,d,u),d.handlers=aB.proxy(az,d,u.handlers),d.resize=function(){c&&!b&&o.css("max-height",am()+"px").trigger("lity:resize",[d])},d.close=function(){if(c&&!b){b=!0,ah(d);var e=aa();if(s&&(ac.activeElement===p[0]||aB.contains(p[0],ac.activeElement))){try{s.focus()}catch(e){}}return o.trigger("lity:close",[d]),p.removeClass("lity-opened").addClass("lity-closed"),aA(o.add(p)).always(function(){o.trigger("lity:remove",[d]),p.remove(),p=void 0,e.resolve()}),e.promise()}},q=af(v,d,u.handlers,u.handler),p.attr(X,"false").addClass("lity-loading lity-opened lity-"+q.handler).appendTo("body").focus().on("click","[data-lity-close]",function(e){aB(e.target).is("[data-lity-close]")&&d.close()}).trigger("lity:open",[d]),ai(d),aB.when(q.content).always(r)}function ad(b,h,g){b.preventDefault?(b.preventDefault(),g=aB(this),b=g.data("lity-target")||g.attr("href")||g.attr("src")):g=aB(g);var f=new ae(b,aB.extend({},g.data("lity-options")||g.data("lity"),h),g,ac.activeElement);if(!b.preventDefault){return f}}var ac=aC.document,ab=aB(aC),aa=aB.Deferred,Z=aB("html"),Y=[],X="aria-hidden",W="lity-"+X,V='a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^="-"])',U={esc:!0,handler:null,handlers:{image:au,inline:at,youtube:ar,vimeo:aq,googlemaps:ao,facebookvideo:ap,iframe:an},template:'<div class="lity" role="dialog" aria-label="Dialog Window (Press escape to close)" tabindex="-1"><div class="lity-wrap" data-lity-close role="document"><div class="lity-loader" aria-hidden="true">Loading...</div><div class="lity-container"><div class="lity-content"></div><button class="lity-close" type="button" aria-label="Close (Press escape to close)" data-lity-close>Ã—</button></div></div></div>'},T=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,S=/(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i,R=/(vimeo(pro)?.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/,Q=/((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i,P=/(facebook\.com)\/([a-z0-9_-]*)\/videos\/([0-9]*)(.*)?$/i,O=function(){var e=ac.createElement("div"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var f in d){if(void 0!==e.style[f]){return d[f]}}return !1}();return au.test=function(b){return T.test(b)},ad.version="2.2.2",ad.options=aB.proxy(az,ad,U),ad.handlers=aB.proxy(az,ad,U.handlers),ad.current=ag,aB(ac).on("click.lity","[data-lity]",ad),ad});